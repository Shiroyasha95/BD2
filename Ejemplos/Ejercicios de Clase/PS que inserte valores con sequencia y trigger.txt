
CREATE OR REPLACE PROCEDURE SP_INSERTA_PRODUCT (NOMBRE_PROD VARCHAR2, ID_BRAND NUMBER, CAT_ID NUMBER, 
ANIO_MODELO NUMBER,PRECIO NUMBER, MSJ_ERROR OUT VARCHAR2, MSJ_EXITO OUT VARCHAR2)
IS

  
BEGIN

  INSERT INTO PRODUCTS(PRODUCT_NAME,BRAND_ID,CATEGORY_ID,MODEL_YEAR,LIST_PRICE) VALUES(NOMBRE_PROD,ID_BRAND,CAT_ID,ANIO_MODELO,PRECIO);
  COMMIT;
  
  MSJ_EXITO:='LA INSERCION DEL PRODUCTO FUE EXITOSA';
  
  EXCEPTION 
     WHEN OTHERS THEN
     MSJ_ERROR:= SQLERRM;
  
END;

DECLARE
  MSJ_ERROR VARCHAR2(500);
  MSJ_EXITO VARCHAR2(500);
BEGIN
  SP_INSERTA_PRODUCT('BICICLETA DE PRUEBA',1,3,2020,1234,MSJ_ERROR,MSJ_EXITO);
  DBMS_OUTPUT.put_line(MSJ_EXITO||' '||MSJ_ERROR);
END;

